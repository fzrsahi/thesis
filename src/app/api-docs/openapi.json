{
  "openapi": "3.0.0",
  "info": {
    "title": "Thesis API",
    "description": "API documentation for Fazrul Anugrah Sahidin's thesis project",
    "version": "0.1.0",
    "contact": {
      "email": "fazrul.anugrah@gmail.com"
    }
  },
  "servers": [
    {
      "url": "/api",
      "description": "API server"
    }
  ],
  "paths": {
    "/auth/session": {
      "get": {
        "tags": ["Auth"],
        "summary": "Get session information",
        "description": "Retrieve session information for the authenticated user",
        "operationId": "getSession",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved session information",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "user": {
                      "type": "object",
                      "properties": {
                        "name": {
                          "type": "string",
                          "example": "student"
                        },
                        "email": {
                          "type": "string",
                          "example": "student@gmail.com"
                        },
                        "id": {
                          "type": "string",
                          "example": "1"
                        },
                        "role": {
                          "type": "string",
                          "example": "student"
                        }
                      },
                      "required": ["name", "email", "id", "role"]
                    },
                    "expires": {
                      "type": "string",
                      "format": "date-time",
                      "example": "2025-07-03T14:08:10.770Z"
                    }
                  },
                  "required": ["user", "expires"]
                }
              }
            }
          }
        }
      }
    },
    "/my-recommendation": {
      "get": {
        "tags": ["Recommendation"],
        "summary": "Get personalized competition recommendations",
        "description": "Fetches personalized recommendations for the logged-in student, processed in the background using LLM and RAG.",
        "operationId": "getMyRecommendations",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved recommendations",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Recommendation"],
        "summary": "Generate student recommendation",
        "description": "Generate a new recommendation for the student",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Recommendation generated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/recomendations/competitions": {
      "get": {
        "tags": ["Recommendation"],
        "summary": "Get recommendations overview grouped by competition",
        "description": "Retrieves all student recommendations grouped by competition, with filtering options for study programs and specific competitions. This endpoint provides a comprehensive overview of which students are recommended for which competitions.",
        "operationId": "getRecommendationsByCompetition",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          { "$ref": "#/components/parameters/PageParam" },
          { "$ref": "#/components/parameters/LimitParam" },
          { "$ref": "#/components/parameters/KeywordsParam" },
          {
            "name": "studyProgramId",
            "in": "query",
            "description": "Filter by study program ID",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1
            }
          },
          {
            "name": "entryYear",
            "in": "query",
            "description": "Filter by entry year (angkatan)",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1900
            }
          },
          {
            "name": "competitionId",
            "in": "query",
            "description": "Filter by specific competition ID",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1
            }
          },
          {
            "name": "minMatchScore",
            "in": "query",
            "description": "Minimum match score threshold (0.0-1.0)",
            "required": false,
            "schema": {
              "type": "number",
              "minimum": 0.0,
              "maximum": 1.0,
              "default": 0.0
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Recommendations retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/CompetitionRecommendationGroup"
                      }
                    },
                    "pagination": { "$ref": "#/components/schemas/Pagination" },
                    "summary": {
                      "type": "object",
                      "properties": {
                        "totalStudents": {
                          "type": "integer",
                          "description": "Total number of students with recommendations"
                        },
                        "totalCompetitions": {
                          "type": "integer",
                          "description": "Total number of competitions with recommendations"
                        },
                        "averageMatchScore": {
                          "type": "number",
                          "description": "Average match score across all recommendations"
                        },
                        "topCompetitions": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "competitionId": { "type": "integer" },
                              "competitionName": { "type": "string" },
                              "studentCount": { "type": "integer" },
                              "averageScore": { "type": "number" }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request - invalid parameters",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ErrorResponse" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ErrorResponse" }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ErrorResponse" }
              }
            }
          }
        }
      }
    },
    "/recomendations/students": {
      "get": {
        "tags": ["Recommendation"],
        "summary": "Get recommendations overview grouped by student",
        "description": "Retrieves all student recommendations grouped by student, with filtering options for study programs and specific competitions. This endpoint provides a comprehensive overview of which competitions each student is recommended for.",
        "operationId": "getRecommendationsByStudent",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          { "$ref": "#/components/parameters/PageParam" },
          { "$ref": "#/components/parameters/LimitParam" },
          { "$ref": "#/components/parameters/KeywordsParam" },
          {
            "name": "studyProgramId",
            "in": "query",
            "description": "Filter by study program ID",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1
            }
          },
          {
            "name": "entryYear",
            "in": "query",
            "description": "Filter by entry year (angkatan)",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1900
            }
          },
          {
            "name": "competitionId",
            "in": "query",
            "description": "Filter by specific competition ID",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1
            }
          },
          {
            "name": "minMatchScore",
            "in": "query",
            "description": "Minimum match score threshold (0.0-1.0)",
            "required": false,
            "schema": {
              "type": "number",
              "minimum": 0.0,
              "maximum": 1.0,
              "default": 0.0
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Recommendations retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/StudentRecommendationGroup"
                      }
                    },
                    "pagination": { "$ref": "#/components/schemas/Pagination" },
                    "summary": {
                      "type": "object",
                      "properties": {
                        "totalStudents": {
                          "type": "integer",
                          "description": "Total number of students with recommendations"
                        },
                        "totalCompetitions": {
                          "type": "integer",
                          "description": "Total number of competitions with recommendations"
                        },
                        "averageMatchScore": {
                          "type": "number",
                          "description": "Average match score across all recommendations"
                        },
                        "topStudents": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "studentId": { "type": "integer" },
                              "studentName": { "type": "string" },
                              "competitionCount": { "type": "integer" },
                              "averageScore": { "type": "number" }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request - invalid parameters",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ErrorResponse" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ErrorResponse" }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ErrorResponse" }
              }
            }
          }
        }
      }
    },
    "/recomendations/students/{id}": {
      "get": {
        "tags": ["Recommendation"],
        "summary": "Get student recommendations by ID",
        "description": "Retrieves recommendations for a specific student, including personalized competition matches and related statistics.",
        "operationId": "getStudentRecommendationsById",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "Student ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Student recommendations retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SuccessResponse"
                }
              }
            }
          },
          "400": {
            "description": "Bad request - invalid parameters",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ErrorResponse" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ErrorResponse" }
              }
            }
          },
          "404": {
            "description": "Student or recommendations not found",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ErrorResponse" }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ErrorResponse" }
              }
            }
          }
        }
      }
    },
    "/recomendations/competitions/{id}": {
      "get": {
        "tags": ["Recommendation"],
        "summary": "Get detailed competition recommendations by ID",
        "description": "Retrieves detailed information about a specific competition including comprehensive statistics about study programs, entry years, match scores, and top 3 students with highest scores.",
        "operationId": "getCompetitionRecommendationsById",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "minimum": 1
            },
            "description": "Competition ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Competition recommendations retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/CompetitionRecommendationDetail"
                    }
                  },
                  "required": ["success", "data"]
                }
              }
            }
          },
          "400": {
            "description": "Bad request - invalid parameters",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ErrorResponse" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ErrorResponse" }
              }
            }
          },
          "404": {
            "description": "Competition not found",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ErrorResponse" }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ErrorResponse" }
              }
            }
          }
        }
      }
    },
    "/students": {
      "get": {
        "tags": ["Student"],
        "summary": "Get student list with filter",
        "description": "Get all students, optionally filtered by query parameters such as name, email, studentId, studyProgramId, or entryYear",
        "parameters": [
          { "$ref": "#/components/parameters/PageParam" },
          { "$ref": "#/components/parameters/LimitParam" },
          { "$ref": "#/components/parameters/KeywordsParam" },
          {
            "name": "studyProgramId",
            "in": "query",
            "description": "Filter by study program ID",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1
            }
          },
          {
            "name": "entryYear",
            "in": "query",
            "description": "Filter by entry year (angkatan)",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1900
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of students retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": { "type": "number" },
                          "name": { "type": "string" },
                          "email": { "type": "string" },
                          "studentId": { "type": "string" },
                          "studyProgramId": { "type": "integer" }
                        }
                      }
                    },
                    "pagination": { "$ref": "#/components/schemas/Pagination" }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Student"],
        "summary": "Create student",
        "description": "Create a new student",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": { "type": "string" },
                  "email": { "type": "string" },
                  "studentId": { "type": "string" },
                  "studyProgramId": { "type": "integer" }
                },
                "required": ["name", "email", "studentId", "studyProgramId"]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Student created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "name": { "type": "string" },
                        "email": { "type": "string" },
                        "studentId": { "type": "string" },
                        "studyProgramId": { "type": "integer" }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/study-programs": {
      "get": {
        "tags": ["StudyProgram"],
        "summary": "Get all study programs",
        "description": "Retrieve a list of all study programs",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of study programs retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": { "type": "boolean", "example": true },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": { "type": "integer" },
                          "name": { "type": "string" }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },

    "/students/{id}": {
      "get": {
        "tags": ["Student"],
        "summary": "Get student",
        "description": "Get a student",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": { "type": "integer", "minimum": 1 }
          }
        ],
        "responses": {
          "200": {
            "description": "Student retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": { "type": "boolean" },
                    "data": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "integer" },
                        "user": {
                          "type": "object",
                          "properties": {
                            "name": { "type": "string" },
                            "email": { "type": "string" }
                          }
                        },
                        "studentId": { "type": ["string", "null"] },
                        "transcript": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": { "type": "integer" },
                              "fileId": { "type": "string" },
                              "semester": { "type": "string" },
                              "transcriptText": { "type": "string" },
                              "fileUrl": { "type": "string" }
                            }
                          }
                        },
                        "achievements": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": { "type": "integer" },
                              "studentId": { "type": "integer" },
                              "title": { "type": "string" },
                              "description": { "type": "string" },
                              "date": { "type": "string", "format": "date-time" },
                              "createdAt": { "type": "string", "format": "date-time" }
                            }
                          }
                        },
                        "experiences": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": { "type": "integer" },
                              "organization": { "type": "string" },
                              "position": { "type": "string" },
                              "startDate": { "type": "string", "format": "date-time" },
                              "endDate": { "type": "string", "format": "date-time" },
                              "description": { "type": "string" }
                            }
                          }
                        },
                        "gpa": { "type": "string" },
                        "interests": {
                          "type": "array",
                          "items": { "type": "string" }
                        },
                        "skills": {
                          "type": "array",
                          "items": { "type": "string" }
                        },
                        "createdAt": { "type": "string", "format": "date-time" },
                        "updatedAt": { "type": "string", "format": "date-time" },
                        "recommendations": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "id": { "type": "integer" },
                              "studentId": { "type": "integer" },
                              "prompt": { "type": "string" },
                              "studentSummary": { "type": "string" },
                              "overallAssessment": { "type": "string" },
                              "competitionRecommendations": {
                                "type": "array",
                                "items": { "type": "object" }
                              },
                              "developmentSuggestions": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "properties": {
                                    "id": { "type": "integer" },
                                    "type": { "type": "string" },
                                    "title": { "type": "string" },
                                    "link": { "type": "string" },
                                    "reason": { "type": "string" }
                                  }
                                }
                              },
                              "skillsProfiles": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "properties": {
                                    "id": { "type": "integer" },
                                    "skillName": { "type": "string" },
                                    "score": { "type": "number" },
                                    "breakdown": { "type": "string" }
                                  }
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": ["Student"],
        "summary": "Update student",
        "description": "Update a student"
      },
      "delete": {
        "tags": ["Student"],
        "summary": "Delete student",
        "description": "Delete a student",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": { "type": "integer", "minimum": 1 }
          }
        ],
        "responses": {
          "200": {
            "description": "Student deleted successfully"
          }
        }
      }
    },
    "/students/personal-data": {
      "get": {
        "tags": ["Student"],
        "summary": "Get student personal data",
        "description": "Retrieve current student's personal profile information",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Student personal data retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "name": {
                          "type": "string"
                        },
                        "email": {
                          "type": "string"
                        },
                        "studentId": {
                          "type": "string"
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": ["Student"],
        "summary": "Update student personal data",
        "description": "Update student's personal profile information",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StudentPersonalDataUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Student personal data updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/StudentPersonalData"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/students/academic-data": {
      "get": {
        "tags": ["Student"],
        "summary": "Get student academic data",
        "description": "Retrieve all academic information for the current student including achievements and memberships",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Student academic data retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/StudentAcademicData"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": ["Student"],
        "summary": "Update student academic data",
        "description": "Update student's academic information including achievements and memberships",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StudentAcademicDataUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Student academic data updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/StudentAcademicData"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/students/transcript": {
      "post": {
        "tags": ["Student"],
        "summary": "Upload student transcript",
        "description": "Upload student's transcript file",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "transcript": {
                    "type": "string",
                    "format": "binary",
                    "description": "Transcript file upload (PDF format)"
                  },
                  "semester": {
                    "type": "string",
                    "description": "Semester of the transcript"
                  }
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": ["Student"],
        "summary": "Get student transcripts",
        "description": "Get all transcripts for the current student",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Successfully retrieved transcripts",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "number"
                          },
                          "semester": {
                            "type": "string"
                          },
                          "fileUrl": {
                            "type": "string"
                          }
                        }
                      }
                    },
                    "pagination": { "$ref": "#/components/schemas/Pagination" }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/students/transcript/{id}": {
      "delete": {
        "tags": ["Student"],
        "summary": "Delete student transcript",
        "description": "Delete a transcript for the current student",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "number"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Transcript deleted successfully"
          }
        }
      }
    },
    "/competitions": {
      "post": {
        "tags": ["Competition"],
        "summary": "Create competition",
        "description": "Create a new competition",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GenerateCompetitionResponse"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Competition created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    }
                  }
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": ["Competition"],
        "summary": "Get competition list",
        "parameters": [
          { "$ref": "#/components/parameters/PageParam" },
          { "$ref": "#/components/parameters/LimitParam" },
          { "$ref": "#/components/parameters/KeywordsParam" }
        ],
        "description": "Get all competitions",
        "responses": {
          "200": {
            "description": "Competition list retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": { "type": "boolean", "example": true },
                    "data": {
                      "type": "array",
                      "items": { "$ref": "#/components/schemas/Competition" }
                    },
                    "pagination": { "$ref": "#/components/schemas/Pagination" }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/competitions/{id}": {
      "delete": {
        "tags": ["Competition"],
        "summary": "Delete competition by ID",
        "description": "Delete a competition by its ID.",
        "operationId": "deleteCompetitionById",
        "security": [{ "bearerAuth": [] }],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": { "type": "integer", "minimum": 1 },
            "description": "Competition ID"
          }
        ],
        "responses": {
          "200": {
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": { "success": { "type": "boolean", "example": true } }
                }
              }
            },
            "description": "Competition deleted successfully"
          }
        }
      },
      "get": {
        "tags": ["Competition"],
        "summary": "Get competition by ID",
        "description": "Retrieve a single competition in detail by its ID.",
        "operationId": "getCompetitionById",
        "security": [{ "bearerAuth": [] }],
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": { "type": "integer", "minimum": 1 },
            "description": "Competition ID"
          }
        ],
        "responses": {
          "200": {
            "description": "Competition retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": { "type": "boolean", "example": true },
                    "data": { "$ref": "#/components/schemas/CompetitionDetail" }
                  },
                  "required": ["success", "data"]
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ErrorResponse" }
              }
            }
          },
          "404": {
            "description": "Competition not found",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ErrorResponse" }
              }
            }
          }
        }
      }
    },
    "/competitions/generate": {
      "post": {
        "tags": ["Competition"],
        "summary": "Generate competition",
        "description": "Generate a new competition",
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "title": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  },
                  "website": {
                    "type": "string"
                  },
                  "additionalDetails": {
                    "type": "string"
                  },
                  "file": {
                    "type": "string",
                    "format": "binary",
                    "description": "Optional file upload"
                  },
                  "startPage": {
                    "type": "integer",
                    "description": "Starting page number (optional, only if file is provided)"
                  },
                  "endPage": {
                    "type": "integer",
                    "description": "Ending page number (optional, only if file is provided)"
                  }
                },
                "required": ["title", "description", "website"]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Competition generated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/GenerateCompetitionResponse"
                    }
                  },
                  "required": ["success", "data"]
                }
              }
            }
          }
        }
      }
    },
    "/advisors": {
      "get": {
        "tags": ["Advisor"],
        "summary": "Get advisor list",
        "description": "Get all advisors with optional pagination and keyword search",
        "parameters": [
          { "$ref": "#/components/parameters/PageParam" },
          { "$ref": "#/components/parameters/LimitParam" },
          { "$ref": "#/components/parameters/KeywordsParam" }
        ],
        "responses": {
          "200": {
            "description": "Advisor list retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": { "type": "boolean", "example": true },
                    "data": {
                      "type": "array",
                      "items": { "$ref": "#/components/schemas/Advisor" }
                    },
                    "pagination": { "$ref": "#/components/schemas/Pagination" }
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Advisor"],
        "summary": "Create advisor",
        "description": "Create a new advisor",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/AdvisorCreate" }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Advisor created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": { "type": "boolean", "example": true }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/advisors/{id}": {
      "delete": {
        "tags": ["Advisor"],
        "summary": "Delete advisor",
        "description": "Delete an advisor by ID",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": { "type": "integer" }
          }
        ],
        "responses": {
          "200": {
            "description": "Advisor deleted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": { "type": "boolean", "example": true }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Advisor not found",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ErrorResponse" }
              }
            }
          }
        }
      }
    },
    "/chat": {
      "post": {
        "tags": ["Chat"],
        "summary": "Chat with LLM (streaming)",
        "description": "Chat with advisor. The response is streamed via Server-Sent Events (SSE).",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/ChatRequest" }
            }
          }
        },
        "responses": {
          "200": {
            "description": "SSE stream of chat messages. Each event contains incremental assistant output.",
            "content": {
              "text/event-stream": {
                "schema": {
                  "type": "string",
                  "example": "event: message\ndata: {\"id\":\"msg_1\",\"content\":\"Halo!\"}\n\n"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ErrorResponse" }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ErrorResponse" }
              }
            }
          }
        }
      },
      "get": {
        "tags": ["Chat"],
        "summary": "Get last chat messages",
        "description": "Get the last 10 chat messages for the current user (from the latest session).",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "List of last chat messages",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "messages": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": { "type": "string", "example": "m_123" },
                          "role": { "type": "string", "enum": ["user", "ai"], "example": "user" },
                          "content": {
                            "type": "string",
                            "example": "Halo, ada yang bisa saya bantu?"
                          },
                          "createdAt": {
                            "type": "string",
                            "format": "date-time",
                            "example": "2024-06-01T12:00:00.000Z"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ErrorResponse" }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ErrorResponse" }
              }
            }
          }
        }
      }
    },
    "/dashboard/stats": {
      "get": {
        "tags": ["Dashboard"],
        "summary": "Get dashboard statistics",
        "description": "Retrieve comprehensive statistics for the dashboard including student counts, active competitions, recommendations, and upcoming deadlines.",
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Dashboard statistics retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "example": true
                    },
                    "data": {
                      "$ref": "#/components/schemas/DashboardStats"
                    }
                  },
                  "required": ["success", "data"]
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ErrorResponse" }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ErrorResponse" }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "parameters": {
      "PageParam": {
        "name": "page",
        "in": "query",
        "description": "Page number (1-based)",
        "required": false,
        "schema": {
          "type": "integer",
          "minimum": 1,
          "default": 1
        }
      },
      "LimitParam": {
        "name": "limit",
        "in": "query",
        "description": "Items per page",
        "required": false,
        "schema": {
          "type": "integer",
          "minimum": 1,
          "maximum": 100,
          "default": 10
        }
      },
      "KeywordsParam": {
        "name": "keywords",
        "in": "query",
        "description": "Free-text search keywords",
        "required": false,
        "schema": {
          "type": "string"
        }
      }
    },
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    },
    "schemas": {
      "Pagination": {
        "type": "object",
        "properties": {
          "total": { "type": "integer", "example": 100 },
          "page": { "type": "integer", "example": 1 },
          "limit": { "type": "integer", "example": 10 },
          "totalPages": { "type": "integer", "example": 10 },
          "hasNextPage": { "type": "boolean", "example": true },
          "hasPrevPage": { "type": "boolean", "example": false }
        },
        "required": ["total", "page", "limit", "totalPages", "hasNextPage", "hasPrevPage"]
      },
      "Advisor": {
        "type": "object",
        "properties": {
          "id": { "type": "integer" },
          "userId": { "type": "integer" },
          "createdAt": { "type": "string", "format": "date-time" },
          "updatedAt": { "type": "string", "format": "date-time" }
        },
        "required": ["id", "userId", "createdAt", "updatedAt"]
      },
      "AdvisorCreate": {
        "type": "object",
        "properties": {
          "name": { "type": "string" },
          "email": { "type": "string" },
          "type": { "type": "string", "enum": ["HeadOfDepartment", "HeadOfStudyProgram"] },
          "studyProgramId": { "type": "integer", "nullable": true }
        },
        "required": ["name", "email", "type"]
      },
      "AdvisorUpdate": {
        "type": "object",
        "properties": {
          "userId": { "type": "integer" },
          "studyProgramId": { "type": "integer" }
        },
        "required": ["userId", "studyProgramId"]
      },
      "Competition": {
        "type": "object",
        "properties": {
          "id": { "type": "integer" },
          "title": { "type": "string" },
          "description": { "type": "string" },
          "organizer": { "type": "string", "nullable": true },
          "field": {
            "type": "array",
            "items": { "type": "string" }
          },
          "type": { "type": "string", "nullable": true },
          "startDate": { "type": "string", "format": "date-time", "nullable": true },
          "endDate": { "type": "string", "format": "date-time", "nullable": true }
        }
      },
      "CompetitionDetail": {
        "type": "object",
        "properties": {
          "id": { "type": "integer" },
          "title": { "type": "string" },
          "description": { "type": "string" },
          "field": { "type": "array", "items": { "type": "string" } },
          "type": { "type": "string", "nullable": true },
          "minGPA": { "type": "string", "nullable": true },
          "requirements": { "type": "object", "nullable": true, "additionalProperties": true },
          "startDate": { "type": "string", "format": "date-time", "nullable": true },
          "endDate": { "type": "string", "format": "date-time", "nullable": true },
          "location": { "type": "string", "nullable": true },
          "organizer": { "type": "string", "nullable": true },
          "evaluationCriteria": {
            "type": "object",
            "nullable": true,
            "additionalProperties": true
          },
          "sourceUrl": { "type": "string", "nullable": true },
          "relevantCourses": { "type": "array", "items": { "type": "string" } },
          "relevantSkills": { "type": "array", "items": { "type": "string" } },
          "fileId": { "type": "string", "nullable": true },
          "content": { "type": "string", "nullable": true },
          "createdAt": { "type": "string", "format": "date-time" },
          "updatedAt": { "type": "string", "format": "date-time" }
        },
        "required": ["id", "title", "description", "field", "createdAt", "updatedAt"]
      },
      "SuccessResponse": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true
          },
          "data": {
            "$ref": "#/components/schemas/RecommendationResponse"
          }
        },
        "required": ["success", "data"]
      },
      "GenerateCompetitionResponse": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "description": "The exact name of the competition",
            "example": "LIDM 2025 - Inovasi Teknologi Digital Pendidikan (Divisi1)"
          },
          "description": {
            "type": "string",
            "description": "A brief overview of the competition's purpose and scope"
          },
          "field": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "The primary domain(s) of the competition",
            "example": ["Educational Technology", "Software Development"]
          },
          "type": {
            "type": "string",
            "nullable": true,
            "description": "Indicates whether participants compete solo or in groups"
          },
          "minGPA": {
            "type": "string",
            "nullable": true,
            "description": "Minimum GPA requirement for eligibility, if specified; otherwise, null"
          },
          "requirements": {
            "type": "object",
            "properties": {
              "teamComposition": {
                "type": "string",
                "nullable": true,
                "description": "Details on team size and composition",
                "example": "3-5 students from the same university"
              },
              "originality": {
                "type": "string",
                "nullable": true,
                "description": "Rules about the originality of submissions",
                "example": "Work must be original"
              },
              "other": {
                "type": "string",
                "nullable": true,
                "description": "Additional eligibility criteria",
                "example": "Must submit a proposal"
              }
            },
            "required": ["teamComposition", "originality", "other"]
          },
          "startDate": {
            "type": "string",
            "nullable": true,
            "description": "The competition's start or registration date (YYYY-MM-DD format)",
            "example": "2025-01-01"
          },
          "endDate": {
            "type": "string",
            "nullable": true,
            "description": "The competition's end or final date (YYYY-MM-DD format)",
            "example": "2025-01-01"
          },
          "location": {
            "type": "string",
            "nullable": true,
            "description": "The event's location, e.g., 'Online' or a specific city/university; null if unspecified"
          },
          "organizer": {
            "type": "string",
            "nullable": true,
            "description": "The organizing entity",
            "example": "Ministry of Education"
          },
          "evaluationCriteria": {
            "type": "object",
            "properties": {
              "preliminaryRound": {
                "type": "string",
                "nullable": true,
                "description": "Criteria for initial judging",
                "example": "Originality: 30%, Impact: 30%"
              },
              "finalRound": {
                "type": "string",
                "nullable": true,
                "description": "Criteria for final judging",
                "example": "Presentation and functionality"
              },
              "other": {
                "type": "string",
                "nullable": true,
                "description": "Other evaluation criteria"
              }
            },
            "required": ["preliminaryRound", "finalRound", "other"]
          },
          "competitionStatistics": {
            "type": "object",
            "properties": {
              "summary": {
                "type": "string",
                "nullable": true,
                "description": "A brief overview of historical participation data, including years and sources"
              },
              "totalApplicantsPastYear": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "count": {
                      "type": "integer",
                      "nullable": true,
                      "description": "Number of teams or individuals who applied in the specified year"
                    },
                    "year": {
                      "type": "string",
                      "nullable": true,
                      "description": "The year of the applicant data",
                      "example": "2023"
                    }
                  },
                  "required": ["count", "year"]
                }
              },
              "pastUngParticipants": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "year": {
                      "type": "string",
                      "description": "Year of participation"
                    },
                    "name": {
                      "type": "string",
                      "description": "Name of the participant from UNG"
                    },
                    "count": {
                      "type": "integer",
                      "description": "Number of team members or 1 if individual"
                    }
                  },
                  "required": ["year", "name", "count"]
                }
              }
            },
            "required": [
              "summary",
              "totalApplicantsPastYear",
              "finalistCountPastYear",
              "pastUngParticipants"
            ]
          },
          "sourceUrl": {
            "type": "string",
            "description": "The primary website or document URL for the competition"
          },
          "relevantCourses": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Academic courses directly relevant to the competition's technical or non-technical focus",
            "example": ["Software Engineering", "Instructional Design"]
          },
          "relevantSkills": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Skills directly relevant to the competition's technical or non-technical requirements",
            "example": ["Python", "Instructional Design"]
          }
        },
        "required": [
          "title",
          "description",
          "field",
          "type",
          "minGPA",
          "requirements",
          "startDate",
          "endDate",
          "location",
          "organizer",
          "evaluationCriteria",
          "competitionStatistics",
          "sourceUrl",
          "relevantCourses",
          "relevantSkills"
        ]
      },
      "RecommendationResponse": {
        "type": "object",
        "properties": {
          "student": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string",
                "example": "student"
              },
              "email": {
                "type": "string",
                "example": "student@gmail.com"
              }
            },
            "required": ["name", "email"],
            "description": "Basic student information"
          },
          "result": {
            "type": "object",
            "properties": {
              "studentProfile": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string",
                    "description": "Nama lengkap mahasiswa",
                    "example": "John Doe"
                  },
                  "email": {
                    "type": "string",
                    "format": "email",
                    "description": "Email mahasiswa",
                    "example": "john.doe@student.ung.ac.id"
                  },
                  "studentId": {
                    "type": "string",
                    "nullable": true,
                    "description": "Nomor Induk Mahasiswa (NIM)",
                    "example": "1234567890"
                  },
                  "entryYear": {
                    "type": "number",
                    "description": "Tahun masuk mahasiswa",
                    "example": 2021
                  },
                  "gpa": {
                    "type": "string",
                    "nullable": true,
                    "description": "Indeks Prestasi Kumulatif (IPK)",
                    "example": "3.66"
                  },
                  "studyProgram": {
                    "type": "string",
                    "description": "Program studi mahasiswa",
                    "example": "Teknik Informatika"
                  }
                },
                "required": ["name", "email", "entryYear", "studyProgram"],
                "description": "Profil dasar mahasiswa"
              },
              "studentSummary": {
                "type": "string",
                "description": "Comprehensive summary of the student's academic and professional background",
                "example": "Mahasiswa Teknik Informatika dengan IPK 3.66, menonjol dalam penguasaan pemrograman, pengelolaan sistem, dan teknologi berbasis data. Berpengalaman sebagai Software Developer di Jepang dan beberapa magang sebelumnya. Memiliki minat utama di bidang Programming, Backend Development, dan Software Engineering."
              },
              "skillsProfile": {
                "type": "object",
                "additionalProperties": {
                  "type": "object",
                  "properties": {
                    "score": {
                      "type": "number",
                      "format": "float",
                      "minimum": 0,
                      "maximum": 1
                    },
                    "breakdown": {
                      "type": "string"
                    }
                  },
                  "required": ["score", "breakdown"]
                },
                "example": {
                  "technicalExpertise": {
                    "score": 0.85,
                    "breakdown": "Memiliki pengalaman kerja nyata sebagai Software Developer di Jepang dan magang di Ditjen Diktiristek serta Thinkspedia. Berhasil mengembangkan backend sistem kompleks dan meningkatkan performa unit testing hingga 90%."
                  },
                  "scientificWriting": {
                    "score": 0.5,
                    "breakdown": "Belum ada pengalaman dalam publikasi ilmiah atau proposal yang didanai. Namun, mampu menyusun laporan kerja praktik dengan baik."
                  }
                },
                "description": "Detailed skill profile with scores and explanations"
              },
              "overallAssessment": {
                "type": "object",
                "properties": {
                  "strengths": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "example": [
                      "Kemampuan teknis yang sangat baik dalam pengembangan backend.",
                      "Kemandirian belajar sangat tinggi.",
                      "Kemampuan problem solving yang solid dalam konteks teknis."
                    ]
                  },
                  "weaknesses": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    },
                    "example": [
                      "Minim pengalaman dalam penulisan ilmiah.",
                      "Kurangnya paparan dalam design thinking.",
                      "Belum ada pengalaman dalam kewirausahaan dan bisnis."
                    ]
                  }
                },
                "required": ["strengths", "weaknesses"],
                "description": "Overall assessment of student's profile"
              },
              "recommendations": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer",
                      "example": 5
                    },
                    "competitionName": {
                      "type": "string",
                      "example": "Program Kreativitas Mahasiswa bidang Karsa Cipta"
                    },
                    "rank": {
                      "type": "integer",
                      "example": 1
                    },
                    "matchScore": {
                      "type": "object",
                      "properties": {
                        "score": {
                          "type": "number",
                          "format": "float",
                          "minimum": 0,
                          "maximum": 1,
                          "example": 0.78
                        },
                        "reason": {
                          "type": "string",
                          "example": "Mahasiswa memiliki kemampuan teknis yang kuat dan pengalaman dalam pengembangan prototipe yang mendukung kesuksesan di kompetisi ini. Namun, perlu meningkatkan kreativitas dan kemampuan menulis ilmiah untuk mendukung laporan."
                        }
                      },
                      "required": ["score", "reason"]
                    },
                    "skillRequirements": {
                      "type": "object",
                      "additionalProperties": {
                        "type": "object",
                        "properties": {
                          "weight": {
                            "type": "number",
                            "format": "float",
                            "minimum": 0,
                            "maximum": 1
                          },
                          "breakdown": {
                            "type": "string"
                          }
                        },
                        "required": ["weight", "breakdown"]
                      },
                      "example": {
                        "technicalExpertise": {
                          "weight": 0.8,
                          "breakdown": "Kompetisi ini memerlukan kemampuan teknis tinggi untuk merancang dan membangun prototipe yang inovatif."
                        }
                      }
                    },
                    "reasoning": {
                      "type": "object",
                      "properties": {
                        "summary": {
                          "type": "string",
                          "example": "Kompetisi ini sesuai dengan kekuatan teknis mahasiswa dan memberikan peluang untuk mengasah kreativitas serta kemampuan ilmiah."
                        },
                        "pros": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          },
                          "example": [
                            "Kemampuan teknis mahasiswa mendukung pembangunan prototipe.",
                            "Pengalaman dalam tim relevan dengan kebutuhan kerja sama kompetisi."
                          ]
                        },
                        "cons": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          },
                          "example": [
                            "Kurangnya pengalaman dalam kreativitas tingkat tinggi.",
                            "Minimnya pengalaman dalam penulisan laporan ilmiah."
                          ]
                        }
                      },
                      "required": ["summary", "pros", "cons"]
                    },
                    "keyFactors": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "example": [
                        "Kemampuan teknis dalam prototyping.",
                        "Kreativitas dalam menghasilkan ide inovatif.",
                        "Kemampuan menyusun laporan akhir yang berkualitas."
                      ]
                    },
                    "preparationTips": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      },
                      "example": [
                        "Ikuti pelatihan penulisan ilmiah untuk meningkatkan kualitas laporan.",
                        "Latih brainstorming untuk meningkatkan kreativitas ide.",
                        "Perkuat kerja sama tim dengan simulasi proyek bersama."
                      ]
                    },
                    "competition": {
                      "type": "object",
                      "properties": {
                        "description": {
                          "type": "string",
                          "example": "PKM KC adalah singkatan dari Program Kreativitas Mahasiswa bidang Karsa Cipta. Ini adalah salah satu jenis Program Kreativitas Mahasiswa (PKM) yang diselenggarakan oleh Direktorat Pembelajaran dan Kemahasiswaan, Direktorat Jenderal Pendidikan Tinggi, Kementerian Pendidikan dan Kebudayaan (Kemendikbud) Republik Indonesia."
                        },
                        "field": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          },
                          "example": ["Semua bidang keilmuan"]
                        },
                        "type": {
                          "type": "string",
                          "example": "Rancang Bangun Prototipe"
                        },
                        "minGPA": {
                          "type": "string",
                          "example": ""
                        },
                        "location": {
                          "type": "string",
                          "example": "Daring dan Luring (Hybrid)"
                        },
                        "organizer": {
                          "type": "string",
                          "example": "Direktorat Pembelajaran dan Kemahasiswaan, Direktorat Jenderal Pendidikan Tinggi, Kementerian Pendidikan dan Kebudayaan (Kemendikbud) Republik Indonesia"
                        },
                        "startDate": {
                          "type": "string",
                          "format": "date-time",
                          "nullable": true,
                          "example": null
                        },
                        "endDate": {
                          "type": "string",
                          "format": "date-time",
                          "nullable": true,
                          "example": null
                        },
                        "sourceUrl": {
                          "type": "string",
                          "example": "simbelmawa.kemdikbud.go.id"
                        },
                        "relevantCourses": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          },
                          "example": [
                            "Kewirausahaan",
                            "Teknik Mesin",
                            "Teknik Elektro",
                            "Teknik Informatika"
                          ]
                        },
                        "relevantSkills": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          },
                          "example": [
                            "Rancang Bangun",
                            "Problem Solving",
                            "Kreativitas",
                            "Kerja Tim"
                          ]
                        },
                        "requirements": {
                          "type": "object",
                          "nullable": true,
                          "example": {
                            "other": null,
                            "originality": null,
                            "teamComposition": null
                          }
                        },
                        "evaluationCriteria": {
                          "type": "object",
                          "nullable": true,
                          "example": {
                            "other": "Kelengkapan laporan akhir.",
                            "finalRound": "Kualitas prototipe, penguasaan materi, dan presentasi.",
                            "preliminaryRound": "Kreativitas, keaslian ide, dan potensi implementasi."
                          }
                        },
                        "competitionStats": {
                          "type": "object",
                          "properties": {
                            "summary": {
                              "type": "string",
                              "nullable": true,
                              "description": "A brief overview of historical participation data, including years and sources"
                            },
                            "totalApplicantsPastYear": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "count": {
                                    "type": "integer",
                                    "nullable": true,
                                    "description": "Number of teams or individuals who applied in the specified year"
                                  },
                                  "year": {
                                    "type": "string",
                                    "nullable": true,
                                    "description": "The year of the applicant data",
                                    "example": "2023"
                                  }
                                },
                                "required": ["count", "year"]
                              }
                            },
                            "pastUngParticipants": {
                              "type": "array",
                              "items": {
                                "type": "object",
                                "properties": {
                                  "year": {
                                    "type": "string",
                                    "nullable": true,
                                    "description": "Year of participation"
                                  },
                                  "name": {
                                    "type": "string",
                                    "nullable": true,
                                    "description": "Name of the participant from UNG"
                                  },
                                  "count": {
                                    "type": "integer",
                                    "nullable": true,
                                    "description": "Number of team members or 1 if individual"
                                  }
                                },
                                "required": ["year", "name", "count"]
                              }
                            }
                          },
                          "required": ["totalApplicantsPastYear", "pastUngParticipants"]
                        }
                      },
                      "required": [
                        "description",
                        "field",
                        "type",
                        "minGPA",
                        "location",
                        "organizer",
                        "startDate",
                        "endDate",
                        "sourceUrl",
                        "relevantCourses",
                        "relevantSkills",
                        "requirements",
                        "evaluationCriteria",
                        "competitionStats"
                      ]
                    }
                  },
                  "required": [
                    "id",
                    "competitionName",
                    "rank",
                    "matchScore",
                    "skillRequirements",
                    "reasoning",
                    "keyFactors",
                    "preparationTips",
                    "competition"
                  ]
                },
                "description": "List of recommended competitions"
              },
              "developmentSuggestions": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "type": {
                      "type": "string",
                      "enum": ["course", "practice", "certification"],
                      "example": "course"
                    },
                    "title": {
                      "type": "string",
                      "example": "Introduction to Scientific Writing"
                    },
                    "link": {
                      "type": "string",
                      "format": "uri",
                      "example": "https://www.coursera.org/learn/scientific-writing"
                    },
                    "reason": {
                      "type": "string",
                      "example": "Untuk meningkatkan kemampuan mahasiswa dalam menyusun laporan akhir yang berkualitas."
                    }
                  },
                  "required": ["type", "title", "link", "reason"]
                },
                "description": "Development suggestions for skill improvement"
              }
            },
            "required": [
              "studentSummary",
              "skillsProfile",
              "overallAssessment",
              "recommendations",
              "developmentSuggestions"
            ]
          }
        },
        "required": ["student", "result"]
      },
      "StudentPersonalData": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "name": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "studentId": {
            "type": "string"
          },
          "major": {
            "type": "string"
          },
          "interests": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "StudentPersonalDataUpdate": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "studentId": {
            "type": "string"
          }
        }
      },
      "StudentAcademicData": {
        "type": "object",
        "properties": {
          "gpa": {
            "type": "string"
          },
          "interests": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "skills": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "achievements": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Achievement"
            }
          },
          "experiences": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Experience"
            }
          }
        }
      },
      "ChatRequest": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string"
          }
        }
      },
      "ChatResponse": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string"
          }
        }
      },
      "StudentAcademicDataUpdate": {
        "type": "object",
        "properties": {
          "gpa": {
            "type": "string"
          },
          "interests": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "achievements": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AchievementCreate"
            }
          },
          "experiences": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ExperienceCreate"
            }
          }
        }
      },
      "Achievement": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "title": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "date": {
            "type": "string",
            "format": "date"
          }
        }
      },
      "AchievementCreate": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "date": {
            "type": "string",
            "format": "date"
          }
        },
        "required": ["title", "description", "date"]
      },
      "Experience": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer"
          },
          "organization": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "position": {
            "type": "string"
          },
          "startDate": {
            "type": "string",
            "format": "date-time"
          },
          "endDate": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "ExperienceCreate": {
        "type": "object",
        "properties": {
          "organization": {
            "type": "string"
          },
          "position": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "startDate": {
            "type": "string",
            "format": "date-time"
          },
          "endDate": {
            "type": "string",
            "format": "date-time"
          }
        },
        "required": ["organization", "position", "startDate", "description"]
      },
      "ErrorResponse": {
        "type": "object",
        "properties": {
          "error": {
            "type": "string"
          },
          "message": {
            "type": "string"
          }
        }
      },
      "CompetitionRecommendationGroup": {
        "type": "object",
        "properties": {
          "competition": {
            "type": "object",
            "properties": {
              "id": { "type": "integer" },
              "title": { "type": "string" },
              "field": { "type": "array", "items": { "type": "string" } },
              "type": { "type": "string", "nullable": true },
              "organizer": { "type": "string", "nullable": true }
            },
            "required": ["id", "title", "field"]
          },
          "students": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/StudentRecommendationSummary"
            }
          },
          "statistics": {
            "type": "object",
            "properties": {
              "totalStudents": { "type": "integer" },
              "averageMatchScore": { "type": "number" },
              "highestScore": { "type": "number" },
              "lowestScore": { "type": "number" },
              "scoreDistribution": {
                "type": "object",
                "properties": {
                  "excellent": { "type": "integer", "description": "Score >= 0.8" },
                  "good": { "type": "integer", "description": "Score >= 0.6 and < 0.8" },
                  "fair": { "type": "integer", "description": "Score >= 0.4 and < 0.6" },
                  "poor": { "type": "integer", "description": "Score < 0.4" }
                }
              }
            }
          }
        },
        "required": ["competition", "students", "statistics"]
      },
      "StudentRecommendationGroup": {
        "type": "object",
        "properties": {
          "student": {
            "type": "object",
            "properties": {
              "id": { "type": "integer" },
              "userId": { "type": "integer" },
              "name": { "type": "string" },
              "email": { "type": "string" },
              "studentId": { "type": "string", "nullable": true },
              "studyProgram": {
                "type": "object",
                "properties": {
                  "id": { "type": "integer" },
                  "name": { "type": "string" }
                },
                "required": ["id", "name"]
              },
              "entryYear": { "type": "integer" }
            },
            "required": ["id", "userId", "name", "email", "studyProgram", "entryYear"]
          },
          "competitions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CompetitionRecommendationSummary"
            }
          },
          "statistics": {
            "type": "object",
            "properties": {
              "totalCompetitions": { "type": "integer" },
              "averageMatchScore": { "type": "number" },
              "highestScore": { "type": "number" },
              "lowestScore": { "type": "number" },
              "scoreDistribution": {
                "type": "object",
                "properties": {
                  "excellent": { "type": "integer", "description": "Score >= 0.8" },
                  "good": { "type": "integer", "description": "Score >= 0.6 and < 0.8" },
                  "fair": { "type": "integer", "description": "Score >= 0.4 and < 0.6" },
                  "poor": { "type": "integer", "description": "Score < 0.4" }
                }
              }
            }
          }
        },
        "required": ["student", "competitions", "statistics"]
      },
      "CompetitionRecommendationSummary": {
        "type": "object",
        "properties": {
          "competition": {
            "type": "object",
            "properties": {
              "id": { "type": "integer" },
              "title": { "type": "string" },
              "field": { "type": "array", "items": { "type": "string" } },
              "type": { "type": "string", "nullable": true },
              "organizer": { "type": "string", "nullable": true }
            },
            "required": ["id", "title", "field"]
          },
          "recommendation": {
            "type": "object",
            "properties": {
              "id": { "type": "integer" },
              "rank": { "type": "integer" },
              "matchScore": {
                "type": "number",
                "minimum": 0,
                "maximum": 1,
                "description": "Match score between 0.0 and 1.0"
              },
              "createdAt": { "type": "string", "format": "date-time" }
            },
            "required": ["id", "rank", "matchScore", "createdAt"]
          }
        },
        "required": ["competition", "recommendation"]
      },
      "StudentRecommendationSummary": {
        "type": "object",
        "properties": {
          "student": {
            "type": "object",
            "properties": {
              "id": { "type": "integer" },
              "userId": { "type": "integer" },
              "name": { "type": "string" },
              "email": { "type": "string" },
              "studentId": { "type": "string", "nullable": true },
              "studyProgram": {
                "type": "object",
                "properties": {
                  "id": { "type": "integer" },
                  "name": { "type": "string" }
                },
                "required": ["id", "name"]
              },
              "entryYear": { "type": "integer" }
            },
            "required": ["id", "userId", "name", "email", "studyProgram", "entryYear"]
          },
          "recommendation": {
            "type": "object",
            "properties": {
              "id": { "type": "integer" },
              "rank": { "type": "integer" },
              "matchScore": {
                "type": "number",
                "minimum": 0,
                "maximum": 1,
                "description": "Match score between 0.0 and 1.0"
              },
              "createdAt": { "type": "string", "format": "date-time" }
            },
            "required": ["id", "rank", "matchScore", "createdAt"]
          }
        },
        "required": ["student", "recommendation"]
      },
      "CompetitionRecommendationDetail": {
        "type": "object",
        "properties": {
          "competition": {
            "$ref": "#/components/schemas/CompetitionDetail"
          },
          "statistics": {
            "type": "object",
            "properties": {
              "overview": {
                "type": "object",
                "properties": {
                  "totalStudents": {
                    "type": "integer",
                    "description": "Total number of students recommended for this competition"
                  },
                  "averageMatchScore": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 1,
                    "description": "Average match score across all recommendations"
                  },
                  "highestMatchScore": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 1,
                    "description": "Highest match score among all recommendations"
                  },
                  "lowestMatchScore": {
                    "type": "number",
                    "minimum": 0,
                    "maximum": 1,
                    "description": "Lowest match score among all recommendations"
                  },
                  "scoreDistribution": {
                    "type": "object",
                    "properties": {
                      "excellent": {
                        "type": "integer",
                        "description": "Number of students with score >= 0.8"
                      },
                      "good": {
                        "type": "integer",
                        "description": "Number of students with score >= 0.6 and < 0.8"
                      },
                      "fair": {
                        "type": "integer",
                        "description": "Number of students with score >= 0.4 and < 0.6"
                      },
                      "poor": {
                        "type": "integer",
                        "description": "Number of students with score < 0.4"
                      }
                    },
                    "required": ["excellent", "good", "fair", "poor"]
                  }
                },
                "required": [
                  "totalStudents",
                  "averageMatchScore",
                  "highestMatchScore",
                  "lowestMatchScore",
                  "scoreDistribution"
                ]
              },
              "studyPrograms": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "studyProgram": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "integer" },
                        "name": { "type": "string" }
                      },
                      "required": ["id", "name"]
                    },
                    "studentCount": {
                      "type": "integer",
                      "description": "Number of students from this study program"
                    },
                    "averageScore": {
                      "type": "number",
                      "minimum": 0,
                      "maximum": 1,
                      "description": "Average match score for students from this study program"
                    },
                    "percentage": {
                      "type": "number",
                      "minimum": 0,
                      "maximum": 100,
                      "description": "Percentage of total students from this study program"
                    }
                  },
                  "required": ["studyProgram", "studentCount", "averageScore", "percentage"]
                },
                "description": "Statistics grouped by study program"
              },
              "entryYears": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "entryYear": {
                      "type": "integer",
                      "description": "Entry year (angkatan)"
                    },
                    "studentCount": {
                      "type": "integer",
                      "description": "Number of students from this entry year"
                    },
                    "averageScore": {
                      "type": "number",
                      "minimum": 0,
                      "maximum": 1,
                      "description": "Average match score for students from this entry year"
                    },
                    "percentage": {
                      "type": "number",
                      "minimum": 0,
                      "maximum": 100,
                      "description": "Percentage of total students from this entry year"
                    }
                  },
                  "required": ["entryYear", "studentCount", "averageScore", "percentage"]
                },
                "description": "Statistics grouped by entry year (angkatan)"
              },
              "topPerformers": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "student": {
                      "type": "object",
                      "properties": {
                        "id": { "type": "integer" },
                        "name": { "type": "string" },
                        "studentId": { "type": "string", "nullable": true },
                        "studyProgram": {
                          "type": "object",
                          "properties": {
                            "id": { "type": "integer" },
                            "name": { "type": "string" }
                          },
                          "required": ["id", "name"]
                        },
                        "entryYear": { "type": "integer" }
                      },
                      "required": ["id", "name", "studyProgram", "entryYear"]
                    },
                    "matchScore": {
                      "type": "number",
                      "minimum": 0,
                      "maximum": 1
                    },
                    "rank": {
                      "type": "integer",
                      "description": "Ranking position among all recommendations"
                    }
                  },
                  "required": ["student", "matchScore", "rank"]
                },
                "description": "Top 3 students with highest match scores"
              }
            },
            "required": ["overview", "studyPrograms", "entryYears", "topPerformers"]
          }
        },
        "required": ["competition", "statistics"]
      },
      "StudentRecommendationDetail": {
        "type": "object",
        "properties": {
          "student": {
            "type": "object",
            "properties": {
              "id": { "type": "integer" },
              "userId": { "type": "integer" },
              "name": { "type": "string" },
              "email": { "type": "string" },
              "studentId": { "type": "string", "nullable": true },
              "studyProgram": {
                "type": "object",
                "properties": {
                  "id": { "type": "integer" },
                  "name": { "type": "string" }
                },
                "required": ["id", "name"]
              },
              "entryYear": { "type": "integer" },
              "gpa": { "type": "string", "nullable": true },
              "interests": {
                "type": "array",
                "items": { "type": "string" }
              },
              "skills": {
                "type": "array",
                "items": { "type": "string" }
              }
            },
            "required": ["id", "userId", "name", "email", "studyProgram", "entryYear"]
          },
          "recommendation": {
            "type": "object",
            "properties": {
              "id": { "type": "integer" },
              "rank": { "type": "integer" },
              "matchScore": {
                "type": "number",
                "minimum": 0,
                "maximum": 1,
                "description": "Match score between 0.0 and 1.0"
              },
              "reasoning": {
                "type": "object",
                "properties": {
                  "summary": {
                    "type": "string",
                    "description": "Brief summary of why this student is recommended"
                  },
                  "strengths": {
                    "type": "array",
                    "items": { "type": "string" },
                    "description": "Student's strengths relevant to this competition"
                  },
                  "areasForImprovement": {
                    "type": "array",
                    "items": { "type": "string" },
                    "description": "Areas where the student could improve for this competition"
                  }
                },
                "required": ["summary", "strengths", "areasForImprovement"]
              },
              "createdAt": { "type": "string", "format": "date-time" }
            },
            "required": ["id", "rank", "matchScore", "reasoning", "createdAt"]
          }
        },
        "required": ["student", "recommendation"]
      },
      "DashboardStats": {
        "type": "object",
        "properties": {
          "overview": {
            "type": "object",
            "properties": {
              "totalStudents": {
                "type": "integer",
                "description": "Total number of students in the system",
                "example": 1250
              },
              "activeCompetitions": {
                "type": "integer",
                "description": "Number of active competitions",
                "example": 45
              },
              "totalRecommendations": {
                "type": "integer",
                "description": "Total number of recommendations given",
                "example": 890
              },
              "upcomingDeadlines": {
                "type": "integer",
                "description": "Number of competitions with deadlines within 7 days",
                "example": 8
              }
            },
            "required": [
              "totalStudents",
              "activeCompetitions",
              "totalRecommendations",
              "upcomingDeadlines"
            ]
          },
          "popularCompetitions": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "name": {
                  "type": "string",
                  "description": "Competition name",
                  "example": "PKM"
                },
                "count": {
                  "type": "integer",
                  "description": "Number of students recommended for this competition",
                  "example": 45
                },
                "percentage": {
                  "type": "number",
                  "minimum": 0,
                  "maximum": 100,
                  "description": "Percentage of total recommendations",
                  "example": 25.5
                }
              },
              "required": ["name", "count", "percentage"]
            },
            "description": "Top 5 most popular competitions by recommendation count"
          },
          "recentActivity": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "id": {
                  "type": "integer",
                  "description": "Activity ID"
                },
                "type": {
                  "type": "string",
                  "enum": ["competition", "registration", "upload", "recommendation"],
                  "description": "Type of activity"
                },
                "action": {
                  "type": "string",
                  "description": "Description of the activity",
                  "example": "Kompetisi baru ditambahkan"
                },
                "competitionName": {
                  "type": "string",
                  "nullable": true,
                  "description": "Name of the competition (if applicable)",
                  "example": "PKM 2024"
                },
                "studentName": {
                  "type": "string",
                  "nullable": true,
                  "description": "Name of the student (if applicable)",
                  "example": "Ahmad Rizki"
                },
                "timestamp": {
                  "type": "string",
                  "format": "date-time",
                  "description": "When the activity occurred",
                  "example": "2024-01-15T10:30:00.000Z"
                }
              },
              "required": ["id", "type", "action", "timestamp"]
            },
            "description": "Recent activities in the system (last 10)"
          },
          "statistics": {
            "type": "object",
            "properties": {
              "studentGrowth": {
                "type": "object",
                "properties": {
                  "currentMonth": {
                    "type": "integer",
                    "description": "Number of new students this month",
                    "example": 25
                  },
                  "previousMonth": {
                    "type": "integer",
                    "description": "Number of new students last month",
                    "example": 20
                  },
                  "growthPercentage": {
                    "type": "number",
                    "description": "Percentage growth compared to previous month",
                    "example": 25.0
                  }
                },
                "required": ["currentMonth", "previousMonth", "growthPercentage"]
              },
              "competitionGrowth": {
                "type": "object",
                "properties": {
                  "currentMonth": {
                    "type": "integer",
                    "description": "Number of new competitions this month",
                    "example": 5
                  },
                  "previousMonth": {
                    "type": "integer",
                    "description": "Number of new competitions last month",
                    "example": 3
                  },
                  "growthPercentage": {
                    "type": "number",
                    "description": "Percentage growth compared to previous month",
                    "example": 66.7
                  }
                },
                "required": ["currentMonth", "previousMonth", "growthPercentage"]
              },
              "recommendationGrowth": {
                "type": "object",
                "properties": {
                  "currentMonth": {
                    "type": "integer",
                    "description": "Number of recommendations given this month",
                    "example": 150
                  },
                  "previousMonth": {
                    "type": "integer",
                    "description": "Number of recommendations given last month",
                    "example": 120
                  },
                  "growthPercentage": {
                    "type": "number",
                    "description": "Percentage growth compared to previous month",
                    "example": 25.0
                  }
                },
                "required": ["currentMonth", "previousMonth", "growthPercentage"]
              }
            },
            "required": ["studentGrowth", "competitionGrowth", "recommendationGrowth"]
          }
        },
        "required": ["overview", "popularCompetitions", "recentActivity", "statistics"]
      }
    }
  },
  "security": [
    {
      "bearerAuth": []
    }
  ]
}
